{"version":3,"file":"main.9187d48dac6e5cd54698.js","mappings":"wFAAO,MAAMA,EAAM,MAChB,MAAMC,EAASC,GAAaC,SAASC,cAAcF,GA6BnD,MAAO,CACJD,QACAI,OA9BaH,GAAaC,SAASG,iBAAiBJ,GA+BpDK,SA9Bc,CAACC,EAAKC,EAASC,EAAMC,KACnC,MAAMC,EAAKT,SAASU,cAAcL,GAclC,OAbIC,IACsB,iBAAZA,EACRG,EAAGE,UAAUC,IAAIN,GACbG,EAAGE,UAAUC,OAAON,IAE1BC,IACDE,EAAGI,YAAcN,GAEhBC,GACDM,OAAOC,KAAKP,GAAYQ,SAASC,IAC9BR,EAAGS,aAAaD,EAAKT,EAAWS,OAG/BR,GAgBPU,SAdc,CAACpB,EAAUqB,KACzB,MAAMX,EAAKX,EAAMC,GACjBU,EAAGY,UAAY,GACfZ,EAAGa,YAAYF,IAYfG,UAVe,CAACxB,EAAUqB,KAC1B,MAAMX,EAAKX,EAAMC,GACjBU,EAAGe,WAAWC,aAAaL,EAAMX,MA3BpB,GAuCNiB,EAAgBC,IAC1B,MAAMC,EAAO5B,SAAS6B,gBACT,SAATF,GACDC,EAAKE,MAAMC,YAAY,aAAc,WACrCH,EAAKE,MAAMC,YAAY,eAAgB,sBACvCH,EAAKE,MAAMC,YAAY,eAAgB,WACvCH,EAAKE,MAAMC,YAAY,mBAAoB,WAC3CH,EAAKE,MAAMC,YAAY,YAAa,WACpCH,EAAKE,MAAMC,YAAY,gBAAiB,WACxCH,EAAKE,MAAMC,YAAY,kBAAmB,WAC1CH,EAAKE,MAAMC,YAAY,qBAAsB,WAC7CH,EAAKE,MAAMC,YAAY,gBAAiB,aAExCH,EAAKE,MAAMC,YAAY,aAAc,WACrCH,EAAKE,MAAMC,YAAY,eAAgB,4BACvCH,EAAKE,MAAMC,YAAY,eAAgB,WACvCH,EAAKE,MAAMC,YAAY,mBAAoB,WAC3CH,EAAKE,MAAMC,YAAY,YAAa,WACpCH,EAAKE,MAAMC,YAAY,gBAAiB,WACxCH,EAAKE,MAAMC,YAAY,kBAAmB,WAC1CH,EAAKE,MAAMC,YAAY,qBAAsB,WAC7CH,EAAKE,MAAMC,YAAY,gBAAiB,a,gKCtDjCC,EAAcL,IAExB,MAAMM,EAAQpC,EAAIO,SAAS,UAAW,KAAM,KAAM,CAC/C8B,GAAI,UAIDC,EAAwB,SAATR,EAAkB,EAAgB,EACjDS,EAAYvC,EAAIO,SAAS,SAAU,KAAM,KAAM,CAClDiC,MAAO,qBACPC,OAAQH,IAILI,EAAuB,SAATZ,EAAkB,EAAe,EAC/Ca,EAAW3C,EAAIO,SAAS,SAAU,KAAM,KAAM,CACjDiC,MAAO,wBACPC,OAAQC,IAILE,EAAU5C,EAAIO,SAAS,MAAO,CAAC,WAAY,WAAY,KAAM,CAChEsC,IAAc,SAATf,EAAkB,EAAgB,EACvCgB,IAAK,aACL,cAAe,SAMlB,OAFAV,EAAMW,OAAOR,EAAWI,EAAUC,GAE3BR,G,gFCpCGY,EAAqB,MAC/B,IAAIC,EACDC,OAAOC,YAAcD,OAAOC,WAAW,gCAAgCC,QAU1E,MAAO,CACJC,QATH,WACG,OAAOJ,EAAkB,OAAS,SASlCK,WANH,WACGL,GAAmBA,KATS,GCArBM,EACGnC,GACHoC,KAAKC,MAAMC,aAAaC,QAAQvC,IAFhCmC,EAIE,CAACnC,EAAKwC,KACfF,aAAaG,QAAQzC,EAAKoC,KAAKM,UAAUF,KAYlCG,EAAa,MACvB,IAAIA,EAAa,EAOjB,MAAO,CACJC,IAPH,WACG,OAAOD,GAOPE,IALH,SAAaC,GACVH,EAAaG,KANO,GCZbC,EAAU,KACpB,MAAMD,EAAMH,EAAWC,MACjBI,EAAOpE,EAAIO,SAAS,MAAO,QAGjC,IAAI8D,EAAad,EACT,SACJe,QAAQC,GAAkB,IAARL,EAAYK,EAAKC,WAAaD,EAAKC,YAAYC,OAErE,MAAMC,EAAY1E,EAAIO,SACnB,OACA,aACA,GAAG8D,SAAiC,IAAfA,EAAmB,GAAK,OAAe,IAARH,EAAY,OAAS,MAItES,EAAiB3E,EAAIO,SAAS,MAAO,kBAAmB,kBAAmB,CAC9EqE,SAAU,IACV,KAAQ,WAQX,OANAD,EAAeE,iBAAiB,SAAS,KACtC,MAAMC,EAAQvB,EAAY,SAASe,QAAQC,IAAUA,EAAKC,YAC1DjB,EAAY,QAASuB,EAAMC,KAAI,CAACR,EAAMS,KAAM,IAAMT,EAAMU,MAAOD,OAC/DE,EAAKC,gBAERf,EAAKrB,OAAO2B,EAAWU,IAAWT,GAC3BP,GAGGgB,EAAU,KAYpB,MAAMC,EAAUrF,EAAIO,SAAS,MAAO,qBAC9B+E,EAAQtF,EAAIO,SAAS,MAAO,WAWlC,MAVA,CAAC,MAAO,SAAU,aAAaY,SAAQ,CAACoE,EAAMP,KAC3C,MAAMpE,EAAKZ,EAAIO,SAAS,MAAO,eAAgBgF,EAAM,CAClDX,SAAU,IACV,KAAQ,SACRY,MAAOzB,EAAWC,QAAUgB,EAAI,SAAW,KAE9CpE,EAAGiE,iBAAiB,SAAS,IAAMK,EAAKO,WAAWT,EAAGpE,KACtD0E,EAAMvC,OAAOnC,MAEhByE,EAAQtC,OAAOuC,GACRD,G,6FCpDH,MAAMK,EAAYZ,IACtB,MAAMa,EAAW3F,EAAIO,SAAS,KAAM,aACpC,GAAqB,IAAjBuE,EAAML,OAAc,CACrB,MAAMmB,EAAQ5F,EAAIO,SAAS,MAAO,CAAC,aAAc,aAAc,mBAC/DoF,EAAS5C,OAAO6C,QAEhBd,EAAM3D,SAAQ,CAACoD,EAAMU,KAClBU,EAAS5C,OCNE,EAACwB,EAAMU,KAuBxB,MAAMY,EAAW7F,EAAIO,SAAS,KAAM,YAAa,KAAM,CAAE,aAAcgE,EAAKU,QACtEa,EAAY9F,EAAIO,SAAS,MAAO,cAChCwF,EAAe/F,EAAIO,SAAS,QAAS,WAAY,KAAM,CAC1DyF,KAAM,aAEHC,EAAYjG,EAAIO,SAAS,QAAS,iBACxCgE,EAAKC,WAAauB,EAAa1E,aAAa,UAAW,IACvD4E,EAAUlD,OACP/C,EAAIO,SAAS,MAAO,gBAAiB,KAAM,CACxCsC,IAAK,EACLC,IAAK,eAGX,MAAMoD,EAAWlG,EAAIO,SAAS,OAAQ,YAAagE,EAAK7D,MACxDmF,EAAShB,iBAAiB,SApC1B,SAAqBsB,GAClB,GAAsB,aAAlBA,EAAEC,OAAOJ,KAAqB,OAClC,MAAMK,EAAQF,EAAEG,cAAcC,WAAWA,WACzCF,EAAMG,SAAWH,EAAMG,QACvB,MAAM1B,EAAQvB,EAAY,SAC1BuB,EAAMP,EAAKU,OAAOT,UAAY6B,EAAMG,QACpCjD,EAAY,QAASuB,EAAMC,KAAI,CAACR,EAAMS,KAAM,IAAMT,EAAMU,MAAOD,OAC/DhF,EAAI0B,UAAU,QAASyC,KACvBe,EAAKC,gBA6BR,MAAMsB,EAAazG,EAAIO,SAAS,MAAO,cAAe,KAAM,CACzDsC,IAAK,EACLC,IAAK,gBAMR,OAJA2D,EAAW5B,iBAAiB,SA9B5B,SAAsBsB,GACnBA,EAAEO,kBACFP,EAAEC,OAAOzE,WAAWb,UAAUC,IAAI,aAClC4F,YAAW,KACR,MAAM7B,EAAQvB,EAAY,SAC1BuB,EAAM8B,OAAO3B,EAAO,GACpB1B,EAAY,QAASuB,EAAMC,KAAI,CAACR,EAAMS,KAAM,IAAMT,EAAMU,MAAOD,OAC/DE,EAAKC,eACL,QAuBNW,EAAU/C,OAAOgD,EAAcE,EAAWC,EAAUO,GACpDZ,EAAS9C,OAAO+C,GAETD,GDxCegB,CAAKtC,EAAMU,OAyBjC,OApBiB,IAAI,KAASU,EAAU,CACrCmB,UAAW,IACXC,SAAWZ,IACR,MAAMrB,EAAQvB,EAAY,SACpBW,EAAMH,EAAWC,MACjBgD,EAAYb,EAAEZ,KAAK0B,QAAQhC,MACjC,IAAIiC,EAAUf,EAAEgB,SACZjD,IACDgD,EAAUpC,EAAMR,QAAQC,GACb,IAARL,GAAaK,EAAKC,UAAYD,EAAKC,YACpC0C,GAASjC,OAEdH,EAAM8B,OAAOM,EAAS,EAAGpC,EAAM8B,OAAOI,EAAW,GAAG,IACpDzD,EACG,QACAuB,EAAMC,KAAI,CAACR,EAAMS,KAAM,IAAMT,EAAMU,MAAOD,OAE7CE,EAAKC,gBAGJQ,GEjCGT,EAAO,MAOjB,SAASkC,IACN,IAAItC,EAAQvB,EAAY,SACxB,MAAMW,EAAMH,EAAWC,MAGvB,OAFY,IAARE,IAAWY,EAAQA,EAAMR,QAAQC,GAASA,EAAKC,aACvC,IAARN,IAAWY,EAAQA,EAAMR,QAAQC,IAAUA,EAAKC,aAC7CM,EAGV,SAASK,IACN,MAAML,EAAQsC,IACdpH,EAAI0B,UAAU,aAAcgE,EAASZ,IACrC9E,EAAI0B,UAAU,QAASyC,KACvBnE,EAAI0B,UAAU,kCAAmC0D,KAGpD,MAAO,CACJK,WAtBH,SAAoBT,EAAGpE,GAChBA,EAAGE,UAAUuG,SAAS,YAC1BtD,EAAWE,IAAIe,GACfG,MAoBAiC,aACAjC,eAzBc,G,gZCGPnF,EAAIC,MAAM,SAClBwB,YCGO,MAET,MAAM6F,EAAOtH,EAAIO,SAAS,OAAQ,aAC5BgH,EAAKpF,EAAWa,EAAmBK,WACzCiE,EAAKvE,OAAOwE,GAGiB,OAAzBhE,EAAY,UAAmBA,EAAY,QAAS,GACxD,MAAMuB,EAAQvB,EAAY,UAIpB,QAAEF,IADKlD,SAAS6B,gBACFgB,GAIpB,OAHAnB,EAAawB,KAEbiE,EAAKvE,OCrBgB,MACrB,MAAM,QAAEM,EAAO,WAAEC,GAAeN,EAU1BwE,EAAWxH,EAAIO,SAAS,SAAU,YAClCkH,EAAQzH,EAAIO,SAAS,KAAM,QAAS,QACpCmH,EAAe1H,EAAIO,SAAS,MAAO,iBAAkB,KAAM,CAC9DsC,IAAmB,SAAdQ,IAAuB,EAAU,EACtCP,IAAK,qBAKR,OAHA4E,EAAa7C,iBAAiB,SAd9B,WACGvB,IACA,MAAMqE,EAAUtE,IAChBxB,EAAa8F,GACbD,EAAa7E,IAAkB,SAAZ8E,EAAqB,EAAU,EAClD3H,EAAI0B,UAAU,SAAUS,EAAWwF,OAWtCH,EAASzE,OAAO0E,EAAOC,GAChBF,GDCKI,GEtBQ,MACpB,MAAMC,EAAU7H,EAAIO,SAAS,MAAO,CAAC,YAAa,aAC5CwF,EAAe/F,EAAIO,SAAS,QAAS,WAAY,KAAM,CAC1DyF,KAAM,aAEHC,EAAYjG,EAAIO,SAAS,QAAS,iBACxC0F,EAAUlD,OAAO/C,EAAIO,SAAS,MAAO,gBAAiB,KAAM,CACzDsC,IAAK,EACLC,IAAK,eAER,MAAMoD,EAAWlG,EAAIO,SAAS,IAAK,CAAC,YAAa,cAAe,KAAM,CACnEyF,KAAM,OACN8B,YAAa,uBACbC,gBAAiB,GACjBC,WAAY,UA2Bf,OAxBA9B,EAASrB,iBAAiB,WAAWsB,IAClC,GAAc,UAAVA,EAAE/E,IAAiB,CACpB+E,EAAE8B,iBACF,MAAM1D,EAAO,CACV7D,KAAMwF,EAASlF,YACfwD,UAAWuB,EAAaS,SAErB9F,EAAOwF,EAASlF,YAAYkH,OAElC,GADAhC,EAASlF,YAAc,IAClBN,EAAM,OACX,MAAMoE,EAAQvB,EAAY,SAC1BuB,EAAMqD,KAAK5D,GACXhB,EAAY,QAASuB,EAAMC,KAAI,CAACR,EAAMS,KAAM,IAAMT,EAAMU,MAAOD,OAC/DE,EAAKC,aACLY,EAAaS,SAAU,MAI7BP,EAAUpB,iBAAiB,SAAS,KACjCkB,EAAaS,SAAWT,EAAaS,WAIxCqB,EAAQ9E,OAAOgD,EAAcE,EAAWC,GACjC2B,GFnBiBO,GAAW1C,EAASZ,GAAQX,IAAWiB,IGzB5C,MACnB,MAAMiD,EAASrI,EAAIO,SAAS,MAAO,UAC7B+H,EAAatI,EAAIO,SAAS,IAAK,cAAe,iCAEpD,OADA8H,EAAOtF,OAAOuF,GACPD,GHqBmEE,IACnEjB,GDnBO,M","sources":["webpack://app/./src/modules/dom.js","webpack://app/./src/components/background/index.js","webpack://app/./src/modules/darkModeController.js","webpack://app/./src/modules/storage.js","webpack://app/./src/components/menubar/index.js","webpack://app/./src/components/todoList/index.js","webpack://app/./src/components/todo/index.js","webpack://app/./src/modules/list.js","webpack://app/./src/index.js","webpack://app/./src/components/app/index.js","webpack://app/./src/components/titlebar/index.js","webpack://app/./src/components/addTodo/index.js","webpack://app/./src/components/footer/index.js"],"sourcesContent":["export const DOM = (() => {\n   const getEl = (selector) => document.querySelector(selector);\n   const getEls = (selector) => document.querySelectorAll(selector);\n   const createEl = (tag, classes, text, attributes) => {\n      const el = document.createElement(tag);\n      if (classes) {\n         if (typeof classes === \"string\") {\n            el.classList.add(classes);\n         } else el.classList.add(...classes);\n      }\n      if (text) {\n         el.textContent = text;\n      }\n      if (attributes) {\n         Object.keys(attributes).forEach((key) => {\n            el.setAttribute(key, attributes[key]);\n         });\n      }\n      return el;\n   };\n   const updateEl = (selector, node) => {\n      const el = getEl(selector);\n      el.innerHTML = \"\";\n      el.appendChild(node);\n   };\n   const replaceEl = (selector, node) => {\n      const el = getEl(selector);\n      el.parentNode.replaceChild(node, el);\n   };\n\n   return {\n      getEl,\n      getEls,\n      createEl,\n      updateEl,\n      replaceEl\n   };\n})();\n\nexport const setVariables = (mode) => {\n   const root = document.documentElement;\n   if (mode === \"dark\") {\n      root.style.setProperty(\"--bg-color\", \"#171823\");\n      root.style.setProperty(\"--box-shadow\", \"rgba(0, 0, 0, 0.5)\");\n      root.style.setProperty(\"--text-color\", \"#C8CBE7\");\n      root.style.setProperty(\"--text-secondary\", \"#5B5E7E\");\n      root.style.setProperty(\"--todo-bg\", \"#25273D\");\n      root.style.setProperty(\"--todo-border\", \"#393A4B\");\n      root.style.setProperty(\"--todo-inactive\", \"#4D5067\");\n      root.style.setProperty(\"--todo-placeholder\", \"#767992\");\n      root.style.setProperty(\"--hover-color\", \"#e3e4f1\");\n   } else {\n      root.style.setProperty(\"--bg-color\", \"#f9f9f9\");\n      root.style.setProperty(\"--box-shadow\", \"rgba(194, 195, 214, 0.5)\");\n      root.style.setProperty(\"--text-color\", \"#494C6B\");\n      root.style.setProperty(\"--text-secondary\", \"#9495A5\");\n      root.style.setProperty(\"--todo-bg\", \"#ffffff\");\n      root.style.setProperty(\"--todo-border\", \"#E3E4F1\");\n      root.style.setProperty(\"--todo-inactive\", \"#D1D2DA\");\n      root.style.setProperty(\"--todo-placeholder\", \"#9495A5\");\n      root.style.setProperty(\"--hover-color\", \"#494C6B\");\n   }\n};\n","import bgDesktopLight from \"/assets/images/bg-desktop-light.jpg\";\nimport bgDesktopDark from \"/assets/images/bg-desktop-dark.jpg\";\nimport bgMobileLight from \"/assets/images/bg-mobile-light.jpg\";\nimport bgMobileDark from \"/assets/images/bg-mobile-dark.jpg\";\nimport { DOM } from \"/src/modules/dom\";\n\nexport const Background = (mode) => {\n   // create dynamic image based on screen size\n   const bgimg = DOM.createEl(\"picture\", null, null, {\n      id: \"bgimg\"\n   });\n\n   // create source for desktop\n   const bgDesktopImg = mode === \"dark\" ? bgDesktopDark : bgDesktopLight;\n   const bgDesktop = DOM.createEl(\"source\", null, null, {\n      media: \"(min-width: 540px)\",\n      srcset: bgDesktopImg\n   });\n\n   // create source for mobile\n   const bgMobileImg = mode === \"dark\" ? bgMobileDark : bgMobileLight;\n   const bgMobile = DOM.createEl(\"source\", null, null, {\n      media: \"(max-width: 539.98px)\",\n      srcset: bgMobileImg\n   });\n\n   // create fallback image\n   const bgImage = DOM.createEl(\"img\", [\"bg-image\", \"fade-in\"], null, {\n      src: mode === \"dark\" ? bgDesktopDark : bgDesktopLight,\n      alt: \"background\",\n      \"aria-hidden\": \"true\"\n   });\n\n   // append sources to picture\n   bgimg.append(bgDesktop, bgMobile, bgImage);\n\n   return bgimg;\n};\n","export const darkModeController = (() => {\n   let darkModeEnabled =\n      window.matchMedia && window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n\n   function getMode() {\n      return darkModeEnabled ? \"dark\" : \"light\";\n   }\n\n   function toggleMode() {\n      darkModeEnabled = !darkModeEnabled;\n   }\n\n   return {\n      getMode,\n      toggleMode\n   };\n})();\n","export const storage = (() => {\n   const get = (key) => {\n      return JSON.parse(localStorage.getItem(key));\n   }\n   const set = (key, value) => {\n      localStorage.setItem(key, JSON.stringify(value));\n   }\n   const reset = () => {\n      localStorage.clear();\n   }\n   return {\n      get,\n      set,\n      reset\n   }\n})();\n\nexport const currentTab = (() => {\n   let currentTab = 0;\n   function get() {\n      return currentTab;\n   }\n   function set(tab) {\n      currentTab = tab;\n   }\n   return {\n      get,\n      set\n   }\n})();","import { DOM } from \"/src/modules/dom\";\nimport { ToDoList } from \"../todoList\";\nimport { list } from \"/src/modules/list\";\nimport { storage, currentTab } from \"/src/modules/storage\";\n\nexport const Menubar = () => {\n   const tab = currentTab.get();\n   const menu = DOM.createEl(\"div\", \"menu\");\n\n   // get number of todos from localStorage\n   let todoAmount = storage\n      .get(\"todos\")\n      .filter((todo) => (tab === 2 ? todo.completed : !todo.completed)).length;\n\n   const itemsLeft = DOM.createEl(\n      \"span\",\n      \"items-left\",\n      `${todoAmount} item${todoAmount === 1 ? \"\" : \"s\"} ${tab === 0 ? \"left\" : \"\"}`\n   );\n\n   // create button to clear completed todos\n   const clearCompleted = DOM.createEl(\"div\", \"clear-completed\", \"Clear Completed\", {\n      tabindex: \"0\",\n      \"role\": \"button\"\n   });\n   clearCompleted.addEventListener(\"click\", () => {\n      const todos = storage.get(\"todos\").filter((todo) => !todo.completed);\n      storage.set(\"todos\", todos.map((todo, i) => ({ ...todo, index: i })));\n      list.renderList();\n   });\n   menu.append(itemsLeft, Submenu(), clearCompleted);\n   return menu;\n};\n\nexport const Submenu = () => {\n   function changeList(i, el) {\n      if (el.classList.contains(\"active\")) return;\n      let todos = storage.get(\"todos\");\n      currentTab.set(i);\n      if (i === 1) todos = todos.filter((todo) => !todo.completed);\n      if (i === 2) todos = todos.filter((todo) => todo.completed);\n      DOM.replaceEl(\".todo-list\", ToDoList(todos));\n      DOM.replaceEl(\".menu\", Menubar());\n      DOM.replaceEl(\".container > .submenu-container\", Submenu());\n   }\n\n   const submenu = DOM.createEl(\"div\", \"submenu-container\");\n   const inner = DOM.createEl(\"div\", \"submenu\");\n   [\"All\", \"Active\", \"Completed\"].forEach((item, i) => {\n      const el = DOM.createEl(\"div\", \"submenu-item\", item, {\n         tabindex: \"0\",\n         \"role\": \"button\",\n         class: currentTab.get() === i ? \"active\" : \"\"\n      });\n      el.addEventListener(\"click\", () => list.changeList(i, el));\n      inner.append(el);\n   });\n   submenu.append(inner);\n   return submenu;\n};\n","import { DOM } from \"/src/modules/dom\";\nimport { Todo } from \"../todo\";\nimport { storage, currentTab } from \"/src/modules/storage\";\nimport { list } from \"/src/modules/list\";\nimport Sortable from \"sortablejs\";\n\nexport const ToDoList = (todos) => {\n   const todoList = DOM.createEl(\"ul\", \"todo-list\");\n   if (todos.length === 0) {\n      const empty = DOM.createEl(\"div\", [\"todo-empty\", \"todo-text\"], \"Nothing here...\");\n      todoList.append(empty);\n   } else {\n      todos.forEach((todo, index) => {\n         todoList.append(Todo(todo, index));\n      });\n   }\n\n   // make todo list sortable\n   const sortable = new Sortable(todoList, {\n      animation: 150,\n      onUpdate: (e) => {\n         const todos = storage.get(\"todos\");\n         const tab = currentTab.get();\n         const indexFrom = e.item.dataset.index;\n         let indexTo = e.newIndex;\n         if (tab) {\n            indexTo = todos.filter((todo) =>\n               tab === 1 ? !todo.completed : todo.completed\n            )[indexTo].index;\n         }\n         todos.splice(indexTo, 0, todos.splice(indexFrom, 1)[0]);\n         storage.set(\n            \"todos\",\n            todos.map((todo, i) => ({ ...todo, index: i }))\n         );\n         list.renderList();\n      }\n   });\n   return todoList;\n};\n","import { DOM } from \"/src/modules/dom\";\nimport { Menubar } from \"../menubar\";\nimport { storage } from \"/src/modules/storage\";\nimport { list } from \"/src/modules/list\";\nimport iconCross from \"/assets/images/icon-cross.svg\";\nimport iconCheck from \"/assets/images/icon-check.svg\";\n\nexport const Todo = (todo, index) => {\n   function onTodoClick(e) {\n      if (e.target.type === \"checkbox\") return;\n      const input = e.currentTarget.firstChild.firstChild;\n      input.checked = !input.checked;\n      const todos = storage.get(\"todos\");\n      todos[todo.index].completed = input.checked;\n      storage.set(\"todos\", todos.map((todo, i) => ({ ...todo, index: i })));\n      DOM.replaceEl(\".menu\", Menubar());\n      list.renderList();\n   }\n\n   function onTodoDelete(e) {\n      e.stopPropagation();\n      e.target.parentNode.classList.add(\"fadeRight\")\n      setTimeout(() => {\n         const todos = storage.get(\"todos\");\n         todos.splice(index, 1);\n         storage.set(\"todos\", todos.map((todo, i) => ({ ...todo, index: i })));\n         list.renderList();\n      }, 500)\n   }\n\n   const todoItem = DOM.createEl(\"li\", \"todo-item\", null, { \"data-index\": todo.index });\n   const todoInner = DOM.createEl(\"div\", \"todo-inner\");\n   const todoCheckbox = DOM.createEl(\"input\", \"checkbox\", null, {\n      type: \"checkbox\"\n   });\n   const todoLabel = DOM.createEl(\"label\", \"todo-checkbox\");\n   todo.completed && todoCheckbox.setAttribute(\"checked\", \"\");\n   todoLabel.append(\n      DOM.createEl(\"img\", \"checkbox-icon\", null, {\n         src: iconCheck,\n         alt: \"checkmark\"\n      })\n   );\n   const todoText = DOM.createEl(\"span\", \"todo-text\", todo.text);\n   todoItem.addEventListener(\"click\", onTodoClick);\n   const removeTodo = DOM.createEl(\"img\", \"todo-remove\", null, {\n      src: iconCross,\n      alt: \"Remove todo\"\n   });\n   removeTodo.addEventListener(\"click\", onTodoDelete);\n   todoInner.append(todoCheckbox, todoLabel, todoText, removeTodo);\n   todoItem.append(todoInner);\n\n   return todoItem;\n};\n","import { DOM } from \"/src/modules/dom\";\nimport { ToDoList } from \"../components/todoList\";\nimport { Menubar, Submenu } from \"../components/menubar\";\nimport { storage, currentTab } from \"/src/modules/storage\";\n\nexport const list = (() => {\n   function changeList(i, el) {\n      if (el.classList.contains(\"active\")) return;\n      currentTab.set(i);\n      renderList();\n   }\n\n   function filterList() {\n      let todos = storage.get(\"todos\");\n      const tab = currentTab.get();\n      if (tab === 2) todos = todos.filter((todo) => todo.completed);\n      if (tab === 1) todos = todos.filter((todo) => !todo.completed);\n      return todos;\n   }\n\n   function renderList() {\n      const todos = filterList();\n      DOM.replaceEl(\".todo-list\", ToDoList(todos));\n      DOM.replaceEl(\".menu\", Menubar());\n      DOM.replaceEl(\".container > .submenu-container\", Submenu());\n   }\n\n   return {\n      changeList,\n      filterList,\n      renderList\n   };\n})();\n","import { DOM } from \"/src/modules/dom\";\n\n// global stylesheets\nimport \"./reset.css\";\n\n// import app component\nimport App from \"./components/app\";\n\nconst root = DOM.getEl(\"#root\");\nroot.appendChild(App());\n","import \"./app.css\";\nimport { Background } from \"../background\";\nimport { Titlebar } from \"../titlebar\";\nimport { AddTodo } from \"../addTodo\";\nimport { ToDoList } from \"../todoList\";\nimport { Menubar, Submenu } from \"../menubar\";\nimport { Footer } from \"../footer\";\nimport { DOM, setVariables } from \"/src/modules/dom\";\nimport { storage } from \"/src/modules/storage\";\nimport { darkModeController } from \"/src/modules/darkModeController\";\nimport defaultTodos from \"/src/data/defaultTodos.json\";\n\nconst App = () => {\n   // create background\n   const main = DOM.createEl(\"main\", \"container\");\n   const bg = Background(darkModeController.getMode());\n   main.append(bg);\n\n   // load todos from localStorage\n   if (storage.get(\"todos\") === null) storage.set(\"todos\", defaultTodos);\n   const todos = storage.get(\"todos\");\n\n   // set CSS variables based on current light mode\n   const root = document.documentElement;\n   const { getMode } = darkModeController;\n   setVariables(getMode());\n\n   main.append(Titlebar(), AddTodo(), ToDoList(todos), Menubar(), Submenu(), Footer());\n   return main;\n};\n\nexport default App;\n","import { Background } from \"../background\";\nimport { DOM, setVariables } from \"/src/modules/dom\";\nimport iconSun from \"/assets/images/icon-sun.svg\";\nimport iconMoon from \"/assets/images/icon-moon.svg\";\nimport { darkModeController } from \"/src/modules/darkModeController\";\n\nexport const Titlebar = () => {\n   const { getMode, toggleMode } = darkModeController;\n\n   function changeDarkMode() {\n      toggleMode();\n      const newMode = getMode();\n      setVariables(newMode);\n      darkModeIcon.src = newMode === \"dark\" ? iconSun : iconMoon;\n      DOM.replaceEl(\"#bgimg\", Background(newMode));\n   }\n\n   const titlebar = DOM.createEl(\"header\", \"titlebar\");\n   const title = DOM.createEl(\"h1\", \"title\", \"TODO\");\n   const darkModeIcon = DOM.createEl(\"img\", \"lightmode-icon\", null, {\n      src: getMode() === \"dark\" ? iconSun : iconMoon,\n      alt: \"Toggle dark mode\"\n   });\n   darkModeIcon.addEventListener(\"click\", changeDarkMode);\n\n   titlebar.append(title, darkModeIcon);\n   return titlebar;\n};\n","import { DOM } from \"/src/modules/dom\";\nimport { storage } from \"/src/modules/storage\";\nimport { list } from \"/src/modules/list\";\nimport iconCheck from \"/assets/images/icon-check.svg\";\n\nexport const AddTodo = () => {\n   const addTodo = DOM.createEl(\"div\", [\"todo-item\", \"add-todo\"]);\n   const todoCheckbox = DOM.createEl(\"input\", \"checkbox\", null, {\n      type: \"checkbox\"\n   });\n   const todoLabel = DOM.createEl(\"label\", \"todo-checkbox\");\n   todoLabel.append(DOM.createEl(\"img\", \"checkbox-icon\", null, {\n      src: iconCheck,\n      alt: \"checkmark\"\n   }));\n   const todoText = DOM.createEl(\"p\", [\"todo-text\", \"todo-input\"], null, {\n      type: \"text\",\n      placeholder: \"Create a new todo...\",\n      contenteditable: \"\",\n      spellcheck: \"false\"\n   });\n\n   todoText.addEventListener(\"keydown\", e => {\n      if (e.key === \"Enter\") {\n         e.preventDefault();\n         const todo = {\n            text: todoText.textContent,\n            completed: todoCheckbox.checked\n         };\n         const text = todoText.textContent.trim();\n         todoText.textContent = \"\";\n         if (!text) return;\n         const todos = storage.get(\"todos\");\n         todos.push(todo);\n         storage.set(\"todos\", todos.map((todo, i) => ({ ...todo, index: i })));\n         list.renderList();\n         todoCheckbox.checked = false;\n      }\n   });\n\n   todoLabel.addEventListener(\"click\", () => {\n      todoCheckbox.checked = !todoCheckbox.checked;\n   });\n\n\n   addTodo.append(todoCheckbox, todoLabel, todoText);\n   return addTodo;\n}","import { DOM } from \"/src/modules/dom\";\n\nexport const Footer = () => {\n   const footer = DOM.createEl(\"div\", \"footer\");\n   const footerText = DOM.createEl(\"p\", \"footer-text\", \"Drag and drop to reorder list\");\n   footer.append(footerText);\n   return footer;\n};\n"],"names":["DOM","getEl","selector","document","querySelector","getEls","querySelectorAll","createEl","tag","classes","text","attributes","el","createElement","classList","add","textContent","Object","keys","forEach","key","setAttribute","updateEl","node","innerHTML","appendChild","replaceEl","parentNode","replaceChild","setVariables","mode","root","documentElement","style","setProperty","Background","bgimg","id","bgDesktopImg","bgDesktop","media","srcset","bgMobileImg","bgMobile","bgImage","src","alt","append","darkModeController","darkModeEnabled","window","matchMedia","matches","getMode","toggleMode","storage","JSON","parse","localStorage","getItem","value","setItem","stringify","currentTab","get","set","tab","Menubar","menu","todoAmount","filter","todo","completed","length","itemsLeft","clearCompleted","tabindex","addEventListener","todos","map","i","index","list","renderList","Submenu","submenu","inner","item","class","changeList","ToDoList","todoList","empty","todoItem","todoInner","todoCheckbox","type","todoLabel","todoText","e","target","input","currentTarget","firstChild","checked","removeTodo","stopPropagation","setTimeout","splice","Todo","animation","onUpdate","indexFrom","dataset","indexTo","newIndex","filterList","contains","main","bg","titlebar","title","darkModeIcon","newMode","Titlebar","addTodo","placeholder","contenteditable","spellcheck","preventDefault","trim","push","AddTodo","footer","footerText","Footer"],"sourceRoot":""}